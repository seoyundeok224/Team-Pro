{"ast":null,"code":"var _jsxFileName = \"/Users/thesueji/Desktop/team2/Team-Pro/building-outline-map/src/components/Map/NaverMap.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst NAVER_CLIENT_ID = process.env.REACT_APP_NAVER_ID;\nfunction NaverMap({\n  searchQuery,\n  selectedPlace\n}) {\n  _s();\n  const mapRef = useRef(null);\n  const mapInstance = useRef(null);\n  const markerRef = useRef(null);\n  const initMarkerRef = useRef(null);\n  const [isMapReady, setIsMapReady] = useState(false);\n  const [hasSearchedOnce, setHasSearchedOnce] = useState(false);\n  const loadNaverScript = () => {\n    return new Promise((resolve, reject) => {\n      if (window.naver && window.naver.maps) {\n        resolve();\n        return;\n      }\n      const script = document.createElement('script');\n      script.src = `https://oapi.map.naver.com/openapi/v3/maps.js?ncpKeyId=${NAVER_CLIENT_ID}&submodules=geocoder`;\n      script.async = true;\n      script.defer = true;\n      script.onload = () => {\n        if (window.naver && window.naver.maps) {\n          resolve();\n        } else {\n          reject(new Error('네이버 지도 API 로딩 실패'));\n        }\n      };\n      script.onerror = reject;\n      document.head.appendChild(script);\n    });\n  };\n  useEffect(() => {\n    loadNaverScript().then(() => {\n      const mapOptions = {\n        center: new window.naver.maps.LatLng(37.5665, 126.978),\n        zoom: 14,\n        zoomControl: true,\n        mapTypeControl: true,\n        mapTypeId: window.naver.maps.MapTypeId.NORMAL,\n        scaleControl: true,\n        logoControl: true,\n        padding: {\n          top: 10,\n          right: 10,\n          bottom: 10,\n          left: 10\n        },\n        mapDataControl: false,\n        zoomControlOptions: {\n          position: window.naver.maps.Position.BOTTOM_LEFT,\n          style: 2\n        }\n      };\n      if (mapRef.current) {\n        mapInstance.current = new window.naver.maps.Map(mapRef.current, mapOptions);\n        if (navigator.geolocation && !hasSearchedOnce) {\n          navigator.geolocation.getCurrentPosition(pos => {\n            const currPos = new window.naver.maps.LatLng(pos.coords.latitude, pos.coords.longitude);\n            mapInstance.current.setCenter(currPos);\n            mapInstance.current.setZoom(13);\n            initMarkerRef.current = new window.naver.maps.Marker({\n              position: currPos,\n              map: mapInstance.current\n            });\n          });\n        }\n        setIsMapReady(true);\n      }\n    }).catch(err => {\n      console.error('지도 로드 실패:', err);\n    });\n  }, [hasSearchedOnce]);\n  useEffect(() => {\n    if (!selectedPlace || !isMapReady) return;\n    const {\n      x,\n      y\n    } = selectedPlace;\n    const location = new window.naver.maps.LatLng(y, x);\n    mapInstance.current.setCenter(location);\n    mapInstance.current.setZoom(16);\n    if (markerRef.current) {\n      markerRef.current.setMap(null);\n    }\n    markerRef.current = new window.naver.maps.Marker({\n      position: location,\n      map: mapInstance.current\n    });\n  }, [selectedPlace, isMapReady]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: mapRef,\n    style: {\n      width: '100%',\n      height: '100%'\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 95,\n    columnNumber: 10\n  }, this);\n}\n_s(NaverMap, \"aEi8F3dKSAQsgOn0EuuP6kP4Auw=\");\n_c = NaverMap;\nexport default NaverMap;\nvar _c;\n$RefreshReg$(_c, \"NaverMap\");","map":{"version":3,"names":["React","useEffect","useRef","useState","jsxDEV","_jsxDEV","NAVER_CLIENT_ID","process","env","REACT_APP_NAVER_ID","NaverMap","searchQuery","selectedPlace","_s","mapRef","mapInstance","markerRef","initMarkerRef","isMapReady","setIsMapReady","hasSearchedOnce","setHasSearchedOnce","loadNaverScript","Promise","resolve","reject","window","naver","maps","script","document","createElement","src","async","defer","onload","Error","onerror","head","appendChild","then","mapOptions","center","LatLng","zoom","zoomControl","mapTypeControl","mapTypeId","MapTypeId","NORMAL","scaleControl","logoControl","padding","top","right","bottom","left","mapDataControl","zoomControlOptions","position","Position","BOTTOM_LEFT","style","current","Map","navigator","geolocation","getCurrentPosition","pos","currPos","coords","latitude","longitude","setCenter","setZoom","Marker","map","catch","err","console","error","x","y","location","setMap","ref","width","height","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/thesueji/Desktop/team2/Team-Pro/building-outline-map/src/components/Map/NaverMap.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\n\nconst NAVER_CLIENT_ID = process.env.REACT_APP_NAVER_ID;\n\nfunction NaverMap({ searchQuery, selectedPlace }) {\n  const mapRef = useRef(null);\n  const mapInstance = useRef(null);\n  const markerRef = useRef(null);\n  const initMarkerRef = useRef(null);\n  const [isMapReady, setIsMapReady] = useState(false);\n  const [hasSearchedOnce, setHasSearchedOnce] = useState(false);\n\n  const loadNaverScript = () => {\n    return new Promise((resolve, reject) => {\n      if (window.naver && window.naver.maps) {\n        resolve();\n        return;\n      }\n      const script = document.createElement('script');\n      script.src = `https://oapi.map.naver.com/openapi/v3/maps.js?ncpKeyId=${NAVER_CLIENT_ID}&submodules=geocoder`;\n      script.async = true;\n      script.defer = true;\n      script.onload = () => {\n        if (window.naver && window.naver.maps) {\n          resolve();\n        } else {\n          reject(new Error('네이버 지도 API 로딩 실패'));\n        }\n      };\n      script.onerror = reject;\n      document.head.appendChild(script);\n    });\n  };\n\n  useEffect(() => {\n    loadNaverScript()\n      .then(() => {\n        const mapOptions = {\n          center: new window.naver.maps.LatLng(37.5665, 126.978),\n          zoom: 14,\n          zoomControl: true,\n          mapTypeControl: true,\n          mapTypeId: window.naver.maps.MapTypeId.NORMAL,\n          scaleControl: true,\n          logoControl: true,\n          padding: { top: 10, right: 10, bottom: 10, left: 10 },\n          mapDataControl: false,\n          zoomControlOptions: {\n            position: window.naver.maps.Position.BOTTOM_LEFT,\n            style: 2,\n          },\n        };\n\n        if (mapRef.current) {\n          mapInstance.current = new window.naver.maps.Map(mapRef.current, mapOptions);\n\n          if (navigator.geolocation && !hasSearchedOnce) {\n            navigator.geolocation.getCurrentPosition((pos) => {\n              const currPos = new window.naver.maps.LatLng(pos.coords.latitude, pos.coords.longitude);\n              mapInstance.current.setCenter(currPos);\n              mapInstance.current.setZoom(13);\n              initMarkerRef.current = new window.naver.maps.Marker({\n                position: currPos,\n                map: mapInstance.current,\n              });\n            });\n          }\n\n          setIsMapReady(true);\n        }\n      })\n      .catch((err) => {\n        console.error('지도 로드 실패:', err);\n      });\n  }, [hasSearchedOnce]);\n\n  useEffect(() => {\n    if (!selectedPlace || !isMapReady) return;\n    const { x, y } = selectedPlace;\n    const location = new window.naver.maps.LatLng(y, x);\n\n    mapInstance.current.setCenter(location);\n    mapInstance.current.setZoom(16);\n\n    if (markerRef.current) {\n      markerRef.current.setMap(null);\n    }\n\n    markerRef.current = new window.naver.maps.Marker({\n      position: location,\n      map: mapInstance.current,\n    });\n  }, [selectedPlace, isMapReady]);\n\n  return <div ref={mapRef} style={{ width: '100%', height: '100%' }} />;\n}\n\nexport default NaverMap;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}