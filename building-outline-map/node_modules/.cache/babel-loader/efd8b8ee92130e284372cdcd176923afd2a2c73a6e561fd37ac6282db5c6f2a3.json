{"ast":null,"code":"// 1. ÏßÄÏó≠Í≤ÄÏÉâ (ÎÑ§Ïù¥Î≤Ñ Local API) - (ÌîÑÎ°ùÏãú O)\nexport async function naverLocalSearch(query) {\n  const NAVER_CLIENT_ID = process.env.REACT_APP_NAVER_SEARCH_CLIENT_ID;\n  const NAVER_CLIENT_SECRET = process.env.REACT_APP_NAVER_SEARCH_CLIENT_SECRET;\n  const url = `/v1/search/local.json?query=${encodeURIComponent(query)}&display=5`;\n  console.log('[üîç LocalSearch ÏöîÏ≤≠ URL]:', url);\n  console.log('[üßæ LocalSearch Ìó§Îçî]:', {\n    headers: {\n      'X-Naver-Client-Id': NAVER_CLIENT_ID,\n      'X-Naver-Client-Secret': NAVER_CLIENT_SECRET\n    }\n  });\n\n  //\n  try {\n    const res = await fetch(url, {\n      headers: {\n        'X-Naver-Client-Id': NAVER_CLIENT_ID,\n        'X-Naver-Client-Secret': NAVER_CLIENT_SECRET\n      }\n    });\n    if (!res.ok) {\n      const errText = await res.text();\n      console.error('ÎÑ§Ïù¥Î≤Ñ Í≤ÄÏÉâ API ÏöîÏ≤≠ Ïã§Ìå®:', res.status, errText);\n      return null;\n    }\n\n    //\n    const data = await res.json();\n    console.log('[Í≤ÄÏÉâ Í≤∞Í≥º]', data);\n    return data.items.map(item => ({\n      title: item.title.replace(/<[^>]*>?/g, ''),\n      // HTML ÌÉúÍ∑∏ Ï†úÍ±∞\n      address: item.address,\n      roadAddress: item.roadAddress,\n      link: item.link,\n      category: item.category\n    }));\n  } catch (err) {\n    console.error('fetch ÏöîÏ≤≠ Ï§ë ÏòàÏô∏ Î∞úÏÉù:', err);\n    return null;\n  }\n}\n\n// 2. Ï£ºÏÜå ‚Üí Ï¢åÌëú Î≥ÄÌôò (Geocode)\nexport async function naverGeocode(address) {\n  const url = `/map-geocode?query=${encodeURIComponent(address)}`;\n  console.log('ÏßÄÏò§ÏΩîÎî© URL:', url);\n  console.log('ÏöîÏ≤≠ Ìó§Îçî:', {\n    'X-Ncp-Apigw-Api-Key-Id': process.env.REACT_APP_NAVER_ID,\n    'X-Ncp-Apigw-Api-Key': process.env.REACT_APP_NAVER_ID_SECRET\n  });\n  const res = await fetch(url, {\n    headers: {\n      'X-Ncp-Apigw-Api-Key-Id': process.env.REACT_APP_NAVER_ID,\n      'X-Ncp-Apigw-Api-Key': process.env.REACT_APP_NAVER_ID_SECRET\n    }\n  });\n  // Î°úÍ∑∏ ÌôïÏù∏\n  console.log('ÏùëÎãµ ÏÉÅÌÉú:', res.status);\n  const text = await res.text();\n  console.log('ÏùëÎãµ ÏõêÎ¨∏:', text);\n  if (!res.ok) {\n    const err = await res.json();\n    console.error('Geocode API ÏóêÎü¨:', err);\n    return null;\n  }\n  const data = await res.json();\n  if (data.addresses && data.addresses.length > 0) {\n    const addr = data.addresses[0];\n    return {\n      lat: parseFloat(addr.y),\n      lng: parseFloat(addr.x)\n    };\n  }\n  return null;\n}\n\n// 3. Î¶¨Î≤ÑÏä§ ÏßÄÏò§ÏΩîÎî©\nexport async function naverReverseGeocode(lat, lng) {\n  const url = `/map-reversegeocode?coords=${lng},${lat}&orders=roadaddr&output=json`;\n  const res = await fetch(url, {\n    headers: {\n      'X-Ncp-Apigw-Api-Key-Id': process.env.REACT_APP_NAVER_ID,\n      'X-Ncp-Apigw-Api-Key': process.env.REACT_APP_NAVER_ID_SECRET\n    }\n  });\n  if (!res.ok) {\n    const err = await res.json();\n    console.error('Reverse Geocode API ÏóêÎü¨:', err);\n    return null;\n  }\n  const data = await res.json();\n  if (data.results && data.results.length > 0) {\n    return data.results[0].region.area1.name; // Ï£ºÏÜå ÏùºÎ∂Ä ÏòàÏãú Î∞òÌôò\n  }\n  return null;\n}","map":{"version":3,"names":["naverLocalSearch","query","NAVER_CLIENT_ID","process","env","REACT_APP_NAVER_SEARCH_CLIENT_ID","NAVER_CLIENT_SECRET","REACT_APP_NAVER_SEARCH_CLIENT_SECRET","url","encodeURIComponent","console","log","headers","res","fetch","ok","errText","text","error","status","data","json","items","map","item","title","replace","address","roadAddress","link","category","err","naverGeocode","REACT_APP_NAVER_ID","REACT_APP_NAVER_ID_SECRET","addresses","length","addr","lat","parseFloat","y","lng","x","naverReverseGeocode","results","region","area1","name"],"sources":["/Users/thesueji/Desktop/team2/Team-Pro/building-outline-map/src/components/utils/naverApi.js"],"sourcesContent":["// 1. ÏßÄÏó≠Í≤ÄÏÉâ (ÎÑ§Ïù¥Î≤Ñ Local API) - (ÌîÑÎ°ùÏãú O)\nexport async function naverLocalSearch(query) {\n    const NAVER_CLIENT_ID = process.env.REACT_APP_NAVER_SEARCH_CLIENT_ID;\n    const NAVER_CLIENT_SECRET = process.env.REACT_APP_NAVER_SEARCH_CLIENT_SECRET;\n\n    const url = `/v1/search/local.json?query=${encodeURIComponent(query)}&display=5`;\n\n    console.log('[üîç LocalSearch ÏöîÏ≤≠ URL]:', url);\n    console.log('[üßæ LocalSearch Ìó§Îçî]:', {\n        headers: {\n            'X-Naver-Client-Id': NAVER_CLIENT_ID,\n            'X-Naver-Client-Secret': NAVER_CLIENT_SECRET,\n        },\n    });\n\n    //\n    try {\n        const res = await fetch(url, {\n            headers: {\n                'X-Naver-Client-Id': NAVER_CLIENT_ID,\n                'X-Naver-Client-Secret': NAVER_CLIENT_SECRET,\n            },\n        });\n\n        if (!res.ok) {\n            const errText = await res.text();\n            console.error('ÎÑ§Ïù¥Î≤Ñ Í≤ÄÏÉâ API ÏöîÏ≤≠ Ïã§Ìå®:', res.status, errText);\n            return null;\n        }\n\n        //\n        const data = await res.json();\n        console.log('[Í≤ÄÏÉâ Í≤∞Í≥º]', data);\n        return data.items.map(item => ({\n            title: item.title.replace(/<[^>]*>?/g, ''), // HTML ÌÉúÍ∑∏ Ï†úÍ±∞\n            address: item.address,\n            roadAddress: item.roadAddress,\n            link: item.link,\n            category: item.category,\n        }));\n    } catch (err) {\n        console.error('fetch ÏöîÏ≤≠ Ï§ë ÏòàÏô∏ Î∞úÏÉù:', err);\n        return null;\n    }\n}\n\n// 2. Ï£ºÏÜå ‚Üí Ï¢åÌëú Î≥ÄÌôò (Geocode)\nexport async function naverGeocode(address) {\n    const url = `/map-geocode?query=${encodeURIComponent(address)}`;\n\n    console.log('ÏßÄÏò§ÏΩîÎî© URL:', url);\n    console.log('ÏöîÏ≤≠ Ìó§Îçî:', {\n        'X-Ncp-Apigw-Api-Key-Id': process.env.REACT_APP_NAVER_ID,\n        'X-Ncp-Apigw-Api-Key': process.env.REACT_APP_NAVER_ID_SECRET,\n    });\n\n    const res = await fetch(url, {\n        headers: {\n            'X-Ncp-Apigw-Api-Key-Id': process.env.REACT_APP_NAVER_ID,\n            'X-Ncp-Apigw-Api-Key': process.env.REACT_APP_NAVER_ID_SECRET,\n        },\n    });\n    // Î°úÍ∑∏ ÌôïÏù∏\n    console.log('ÏùëÎãµ ÏÉÅÌÉú:', res.status);\n    const text = await res.text();\n    console.log('ÏùëÎãµ ÏõêÎ¨∏:', text);\n\n    if (!res.ok) {\n        const err = await res.json();\n        console.error('Geocode API ÏóêÎü¨:', err);\n        return null;\n    }\n\n    const data = await res.json();\n    if (data.addresses && data.addresses.length > 0) {\n        const addr = data.addresses[0];\n        return {\n            lat: parseFloat(addr.y),\n            lng: parseFloat(addr.x),\n        };\n    }\n\n    return null;\n}\n\n// 3. Î¶¨Î≤ÑÏä§ ÏßÄÏò§ÏΩîÎî©\nexport async function naverReverseGeocode(lat, lng) {\n    const url = `/map-reversegeocode?coords=${lng},${lat}&orders=roadaddr&output=json`;\n\n    const res = await fetch(url, {\n        headers: {\n            'X-Ncp-Apigw-Api-Key-Id': process.env.REACT_APP_NAVER_ID,\n            'X-Ncp-Apigw-Api-Key': process.env.REACT_APP_NAVER_ID_SECRET,\n        },\n    });\n\n    if (!res.ok) {\n        const err = await res.json();\n        console.error('Reverse Geocode API ÏóêÎü¨:', err);\n        return null;\n    }\n\n    const data = await res.json();\n    if (data.results && data.results.length > 0) {\n        return data.results[0].region.area1.name; // Ï£ºÏÜå ÏùºÎ∂Ä ÏòàÏãú Î∞òÌôò\n    }\n\n    return null;\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}